- hosts: localhost
  vars_files:
    - vars.yml
  tasks:
    - name: Link config files
      file:
        src: "{{ src_path }}/{{ item }}"
        dest: "~/{{ item }}"
        state: link
      with_items:
        - "{{ config_files }}"

    - name: Create bin directory for user
      file:
        path: "{{ bin_path }}"
        state: directory

    - name: Download kerl
      get_url:
        url: https://raw.githubusercontent.com/kerl/kerl/master/kerl
        dest: "{{ bin_path }}/kerl"
        force: True

    - name: Changing perm of kerl, adding "a+x"
      file:
        dest: "{{ bin_path }}/kerl"
        mode: a+x

    - name: Download anyenv
      git:
        repo: https://github.com/riywo/anyenv.git
        dest: ~/.anyenv
        version: master
        accept_hostkey: yes
